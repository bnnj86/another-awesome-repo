# Serverless Computing

-참고 자료: https://velopert.com/3543

## Serverless 란?

- Serverless란 특정 작업을 수행하기 위해서 컴퓨터 혹은 가상머신에 서버를 설정하는 (AWS EC2, RDS 등) 것이 아니라 Baas(Backend ad a Service) 혹은 FaaS(Function as a Service)를 통해서 작업을 처리하는 것을 말한다.

- BaaS를 제공하는 서비스 : Firebase, Kinvey 등
- FaaS를 제공하는 서비스 : AWS Lambda, Azure Functions, Google Cloud Functions 등

## 기존의 기술들

- 자체적 시스템 설계 : 서버컴퓨터를 통해 자체적으로 시스템에 필요한 모든 인프라를 설치 및 직접 관리.(ex- 전산실) 자체적으로 시스템을 설계하게 되는 경우 시스템 규모가 커지면 유지보수가 힘들고 비용이 많이 소모된다는 점이다.
- IaaS (Infrastructure as a Service) : AWS, Azure 등의 서비스 처럼 서버자원, 네트워크, 전력 등의 인프라를 모두 구축할 필요 없이 인프라를 서비스화 하여 가상화, 이를 제공받아 사용자는 가상머신을 만들어 그 안에서 네트워크, 하드웨어, 운영체제 등 필요한 자원을 설치해 어플리케이션을 구동할 수 있게 하는 기술(서비스). 사용량을 쉽게 모니터링 할 수 있다.
- PaaS (Platform as a Service) : Iaas에서 한단계 더 추상화 된 모델(서비스). 네트워크 및 런타임까지 제공되서 사용자가 어플리케이션을 배포하면 바로 구동이 가능하게 만들어주는 서비스. (ex-AWS Elastic Beanstalk, Azure App Service 등..) 이를 통해 Auto Scaling, Load Balancing 도 손쉽게 적용할 수 있다.

## Serverless

- Baas(Backend ad a Service)
  데이터를 저장하고 다른 기기에 접근하거나 공유하기 위해서는 백엔드 개발이 진행되어야 되는데 이 과정에서 서버의 확장이나 보안성 등의 고려해야 할 사항들이 필요하다. BaaS는 앱 개발에 있어서 필요한 다양한 기능들(데이터베이스, 소셜 서비스 연동, 파일 시스템 등)을 API로 제공해 줌으로서 개발자들이 보다 쉽게 필요 기능들을 구현하고 사용할 수 있게 해주는 서비스. 서버의 이용자가 순식간에 늘어나도 따로 대비를 안해도 확장이 진행이 되며, 비용은 사용하는 만큼 나가기 때문에 효율적으로 관리 할 수도 있다.

  개발 시간이 단축되고 서버 확장 작업이 불필요하다는 장점이 있다. Firebase의 경우 실시간 데이터를 소켓을 통해 바로 반영시켜 주기 때문에 구조 설정에 드는 시간을 크게 단축시킨다.

  단점의 경우, 관리하는 방식에 따라서 백엔드 로직이 클라이언트 쪽에 구현이 되면 사용자가 특정 보안이 필요로 하는 부분에 접근할 수도 있다. 데이터 로직이 변경되는 경우 재배포를 진행해야 되는데, 모바일 앱의 경우 앱 업데이트를 진행해야 되고 상황에 따라서 구버전 사용자들의 업데이트가 강요될 수가 있다. 상대적으로 자체 시스템으로 구현으로 하는 거보다 시간은 많이 단축되지만 지속적인 비용이 지출된다. 또한 데이터베이스나 제공되는 api가 구조화 되어 있기 때문에 복잡한 쿼리를 사용하는데 어려울 수 있다. Firebase의 경우 데이터베이스가 하나의 JSON객체로 구조화 되어 있고 RDBMS의 테이블,관계 같은 개념이 없으므로 데이터베이스 모델을 비정규화하여 사용하는게 좋다고 한다.

- FaaS(Function as a Service)
  FaaS는 프로젝트를 여러개의 함수 혹은 한개의 함수로 만들어서, 함수가 실행이 되는 만큼 비용을 내는 방식(서비스)이다.
  설정 방식에 따라서 주기적(특정 시간대마다, 몇 분 아니면 몇 시간마다..) 혹은 http 요청, 콘솔을 통해 함수를 실행시킬 수 있다.
  PaaS와의 차이점은 PaaS는 전체 어플리케이션을 배포해서 24시간을 배포한 서버컴퓨터에서 계속 구동을 하고 있는 방식이라면, FaaS는 계속 실행되는 것이 아닌 특정 이벤트를 통해 함수가 호출되었을 때만 실행이 되고 작업을 마치면 구동이 종료가 되는 특징이 있다.
  FaaS의 장점은 서버를 하루종일 구동을 하는 것이 아니라 함수가 호출이 되는 순간에만 서버가 작동되고 호출된 만큼만 비용을 지불하기 때문에 비용이 많이 절약된다.(하지만 24시간 계속 함수가 호출되는 경우 PaaS보다 비용이 많이 든다.) PaaS와 마찬가지로 네트워크나 장비 등의 인프라 관리를 신경 쓸 필요가 없으며 보안 쪽도 신경을 쓰지 않아도 된다. 또한 확장성 측면에서 매우 뛰어난 장점을 가지고 있다고 한다. PaaS 같은 경우, 트래픽 관리를 위해 Auto Scaling과 같은 기술을 사용해 cpu 사용량이나 네트워크 처리량에따라 서버를 늘리는 방식을 사용하기도 하는데 FaaS는 트래픽이나 서버확장을 생각하지 않아도 된다(함수를 실행시키기만 하면 그대로 호출이 된다 = 트래픽과 상관이 없다.).
  FaaS의 단점은 모든코드를 함수로 쪼개서 작업을 해야하기 때문에 자원에 제한이 있다(함수당 최대 용량과 처리시간이 존재한다.). 이 때문에 웹소켓처럼 계속적으로 켜놓는 방식은 사용이 불가능하다. 또한 FaaS 서비스를 제공하는 업체들에게 의존성이 강하게 되며 Local Storage를 사용할 수가 없다(AWS는 S3, Azure는 Storage를 이용해서 데이터를 관리할 수 있다.). 또한 상대적으로 자료가 많지 않은 단점도 있다.

## Serverless 사용 될 수 있는 곳

- Backend 서비스
- Crawler (주기적으로 정보 수집)
- file 처리 (S3 스토리지에 저장 및 읽어오기)
- Log 분석, 실시간 모니터링
- 자동화 작업 ( ex- netflix 인코딩&검증&태깅, 백업 작업 )
  등등
